import React from 'react';
import { Clock, MessageCircle, Star, Zap, Target, BookOpen, Flame, Microscope, Sparkles } from 'lucide-react';

const App = () => {
  // 1. 과목 및 학원별 디자인 시스템 (MZ 하이테크 스타일)
  const THEME = {
    SUBJECTS: {
      COMMON: { color: '#00F5FF', bg: 'rgba(0, 245, 255, 0.1)', icon: <Target size={14} /> },
      ALGEBRA_BASIC: { color: '#00FF85', bg: 'rgba(0, 255, 133, 0.1)', icon: <Sparkles size={14} /> }, // 오후 개념반 (민트)
      ALGEBRA_REGULAR: { color: '#7000FF', bg: 'rgba(112, 0, 255, 0.1)', icon: <Zap size={14} /> },   // 저녁 정규개념 (퍼플)
      ALGEBRA_PRACTICE: { color: '#FF5C00', bg: 'rgba(255, 92, 0, 0.1)', icon: <Flame size={14} /> }, // 저녁 정규실력 (오렌지)
      CALCULUS: { color: '#FF007A', bg: 'rgba(255, 0, 122, 0.1)', icon: <Star size={14} /> },
      STATS: { color: '#FFD700', bg: 'rgba(255, 215, 0, 0.1)', icon: <BookOpen size={14} /> },
      QA: { color: '#FFFFFF', bg: 'rgba(255, 255, 255, 0.05)', icon: <Microscope size={14} /> }
    },
    ACADEMY: {
      DUGAK: "두각",
      SIDAE: "시정",
      LAB: "연구소"
    }
  };

  // 2. 시간표 데이터 (최종 업데이트 반영)
  const scheduleData = {
    Monday: [
      { type: 'morning', time: '08:30 - 12:30', title: '시정 32\n공통수학2', location: 'SIDAE', sub: 'COMMON', tag: '1월 9일 개강' },
      { type: 'afternoon', time: '14:00 - 17:30', title: '고2 대수\n개념반', location: 'DUGAK', sub: 'ALGEBRA_BASIC', tag: '1월 2일 개강' },
      { type: 'evening', time: '18:00 - 22:00', title: '고2 대수\n정규 개념반', location: 'DUGAK', sub: 'ALGEBRA_REGULAR', tag: '12월 개강' }
    ],
    Tuesday: [
      { type: 'morning', time: '08:30 - 12:30', title: '고2 미적분 1\n개념반', location: 'DUGAK', sub: 'CALCULUS', tag: '1월 1일 개강' },
      { type: 'afternoon', time: '14:00 - 17:30', title: '고2 31\n확통/미적분2', location: 'SIDAE', sub: 'STATS', tag: '12월 개강' },
      { type: 'evening', time: '18:00 - 22:00', title: '시정 32\n공수1/공수2', location: 'SIDAE', sub: 'COMMON', tag: '3월 개강' }
    ],
    Wednesday: [
      { type: 'morning', time: '08:30 - 12:30', title: '시정 32\n공통수학2', location: 'SIDAE', sub: 'COMMON', tag: '1월 9일 개강' },
      { type: 'afternoon', time: '14:00 - 17:30', title: '고2 대수\n개념반', location: 'DUGAK', sub: 'ALGEBRA_BASIC', tag: '1월 2일 개강' },
      { type: 'evening', time: '18:00 - 22:00', title: '고2 대수\n정규 실력반', location: 'DUGAK', sub: 'ALGEBRA_PRACTICE', tag: '12월 개강' }
    ],
    Thursday: [
      { type: 'morning', time: '08:30 - 12:30', title: '고2 미적분 1\n개념반', location: 'DUGAK', sub: 'CALCULUS', tag: '1월 1일 개강' },
      { type: 'afternoon', time: '14:00 - 17:30', title: '고2 31\n확통/미적분2', location: 'SIDAE', sub: 'STATS', tag: '12월 개강' },
      { type: 'evening', time: '18:30 - 22:00', title: '시정 31\n미적분 1', location: 'SIDAE', sub: 'CALCULUS', tag: '12월 개강' }
    ],
    Friday: [
      { type: 'morning', time: '08:30 - 12:30', title: '시정 32\n공통수학2', location: 'SIDAE', sub: 'COMMON', tag: '1월 9일 개강' },
      { type: 'afternoon', time: '14:00 - 17:30', title: '고2 대수\n개념반', location: 'DUGAK', sub: 'ALGEBRA_BASIC', tag: '1월 2일 개강' },
      { type: 'evening', time: '18:00 - 22:00', title: '고2 대수\n정규 개념반', location: 'DUGAK', sub: 'ALGEBRA_REGULAR', tag: '12월 개강' }
    ],
    Saturday: [
      { type: 'morning', time: '09:00 - 12:30', title: '심층 질답\n[클리닉]', location: 'DUGAK', sub: 'QA', tag: '상시 운영' },
      { type: 'afternoon', time: '14:00 - 17:30', title: '1:1 맞춤 질답\nLab Session', location: 'DUGAK', sub: 'QA', tag: '상시 운영' },
      { id: 15, type: 'evening', time: '18:00 - 22:00', title: '고2 대수\n정규 실력반', location: 'DUGAK', sub: 'ALGEBRA_PRACTICE', tag: '12월 개강' }
    ],
    Sunday: [
      { type: 'morning', time: '09:00 - 12:30', title: '주간 피드백\n질답 세션', location: 'LAB', sub: 'QA', tag: '예약제' },
      { type: 'afternoon', time: '14:30 - 18:00', title: '시정 32\n공수1/공수2', location: 'SIDAE', sub: 'COMMON', tag: '3월 개강' },
      { type: 'evening', time: '18:30 - 22:00', title: '시정 31\n미적분 1', location: 'SIDAE', sub: 'CALCULUS', tag: '12월 개강' }
    ]
  };

  const dayKeys = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
  const dayLabels = ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'];

  return (
    <div className="min-h-screen bg-[#020204] text-slate-100 font-sans selection:bg-fuchsia-500/30 overflow-x-hidden relative p-4 md:p-8">
      {/* Cinematic Background Glows */}
      <div className="fixed top-[-20%] right-[-10%] w-[70%] h-[70%] bg-blue-600/10 blur-[150px] rounded-full pointer-events-none"></div>
      <div className="fixed bottom-[-20%] left-[-10%] w-[70%] h-[70%] bg-fuchsia-600/10 blur-[150px] rounded-full pointer-events-none"></div>

      <div className="max-w-[1400px] mx-auto relative z-10">
        
        {/* Header Section (U 잘림 방지 처리 완료) */}
        <header className="flex flex-col md:flex-row md:items-center justify-between mb-10 gap-8">
          <div className="space-y-1">
            <div className="flex items-center gap-4">
              <span className="h-px w-10 bg-gradient-to-r from-blue-500 to-transparent"></span>
              <span className="text-[10px] font-black tracking-[0.4em] text-blue-400 uppercase">Archive 2026 Winter</span>
            </div>
            <h1 className="text-6xl md:text-7xl font-black tracking-tight leading-[1.1] flex flex-col italic overflow-visible w-fit">
              <span className="text-white drop-shadow-2xl uppercase inline-block pr-12 overflow-visible">Ryu</span>
              <span className="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-fuchsia-500 to-amber-400 uppercase inline-block pr-12 overflow-visible">
                Yongsu
              </span>
            </h1>
          </div>
          <div className="flex flex-col items-end gap-2 text-right">
            <div className="p-1 bg-white/5 backdrop-blur-3xl border border-white/10 rounded-full flex gap-1">
              <button className="px-6 py-2 rounded-full text-[10px] font-bold bg-white text-black">Schedule</button>
              <button className="px-6 py-2 rounded-full text-[10px] font-bold text-white/40 hover:text-white transition-all uppercase">Analysis</button>
            </div>
            <span className="text-[9px] font-mono text-white/20 tracking-widest mr-4 uppercase tracking-[0.3em]">System Active</span>
          </div>
        </header>

        {/* Calendar Grid (Row-based System) */}
        <div className="flex flex-col gap-6">
          
          {/* Day Label Header */}
          <div className="grid grid-cols-7 gap-4 px-4">
            {dayLabels.map(label => (
              <div key={label} className="text-center group">
                <span className="text-[11px] font-black tracking-[0.3em] text-white/20 group-hover:text-white/60 transition-colors uppercase">{label}</span>
              </div>
            ))}
          </div>

          {/* Sessions: Morning / Afternoon / Evening Rows */}
          <div className="space-y-8">
            <SessionRow title="Morning" dayKeys={dayKeys} scheduleData={scheduleData} sessionType="morning" theme={THEME} />
            <SessionRow title="Afternoon" dayKeys={dayKeys} scheduleData={scheduleData} sessionType="afternoon" theme={THEME} />
            <SessionRow title="Evening" dayKeys={dayKeys} scheduleData={scheduleData} sessionType="evening" theme={THEME} />
          </div>

        </div>

        {/* Footer Section */}
        <footer className="mt-20 pt-10 border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-8 opacity-30 hover:opacity-100 transition-opacity">
          <div className="flex items-center gap-6 flex-wrap">
            {Object.entries(THEME.SUBJECTS).map(([key, value]) => (
              <div key={key} className="flex items-center gap-2">
                <div className="w-1.5 h-1.5 rounded-full" style={{ backgroundColor: value.color }}></div>
                <span className="text-[9px] font-black tracking-widest uppercase text-white/60">{key.replace('_', ' ')}</span>
              </div>
            ))}
          </div>
          <p className="text-[8px] font-mono tracking-[0.4em] text-white/30 uppercase">Precision & Passion in Mathematics</p>
        </footer>
      </div>
    </div>
  );
};

// 가로 행 정렬을 보장하는 세션 로우 컴포넌트
const SessionRow = ({ title, dayKeys, scheduleData, sessionType, theme }) => {
  return (
    <div className="space-y-3">
      {/* Session Header */}
      <div className="flex items-center gap-4 px-4">
        <span className="text-[9px] font-black text-white/40 tracking-[0.4em] uppercase italic">{title}</span>
        <div className="h-px flex-1 bg-gradient-to-r from-white/5 to-transparent"></div>
      </div>
      
      {/* Grid Columns for 7 Days */}
      <div className="grid grid-cols-7 gap-4 items-start">
        {dayKeys.map(day => {
          const items = scheduleData[day].filter(item => item.type === sessionType);
          return (
            <div key={`${day}-${sessionType}`} className="min-h-0">
              {items.length > 0 ? (
                <div className="space-y-2">
                  {items.map((item, idx) => {
                    const subStyle = theme.SUBJECTS[item.sub];
                    return (
                      <div 
                        key={idx}
                        className={`group relative overflow-hidden bg-white/[0.03] hover:bg-white/[0.06] backdrop-blur-2xl border border-white/10 rounded-xl p-4 transition-all duration-500 hover:scale-[1.01] hover:border-white/20 shadow-xl`}
                      >
                        {/* Glow Aura */}
                        <div 
                          className="absolute -right-6 -top-6 w-20 h-20 blur-[35px] opacity-0 group-hover:opacity-30 transition-opacity duration-700"
                          style={{ backgroundColor: subStyle.color }}
                        ></div>

                        <div className="relative z-10 space-y-3">
                          <div className="flex items-center justify-between">
                            <div className="flex items-center gap-1.5">
                              <span style={{ color: subStyle.color }}>{subStyle.icon}</span>
                              <span className="text-[9px] font-black font-mono text-white/50 tracking-tighter">{item.time}</span>
                            </div>
                            <span className="text-[8px] font-black px-1.5 py-0.5 rounded-full bg-white/5 text-white/20 uppercase tracking-widest">
                              {item.location}
                            </span>
                          </div>
                          
                          <h3 className="text-[13px] font-black text-white leading-[1.3] whitespace-pre-line tracking-tight group-hover:translate-x-0.5 transition-transform duration-500">
                            {item.title}
                          </h3>
                          
                          <div className="flex items-center gap-1.5 pt-1">
                            <span 
                              className={`text-[8px] font-black px-2 py-0.5 rounded-md border transition-colors duration-500`}
                              style={{ 
                                borderColor: `${subStyle.color}30`, 
                                color: subStyle.color,
                                backgroundColor: subStyle.bg
                              }}
                            >
                              {item.tag}
                            </span>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>
              ) : (
                // 빈 칸에 표시되는 질답 세션 (압축형)
                <div className="h-8 flex items-center justify-center rounded-lg border border-dashed border-white/5 bg-white/[0.005] hover:bg-white/[0.02] transition-all group/qa cursor-default">
                  <div className="flex items-center gap-2 opacity-5 group-hover/qa:opacity-20 transition-opacity">
                    <MessageCircle size={10} className="text-white" />
                    <span className="text-[8px] font-black text-white tracking-[0.2em]">질답</span>
                  </div>
                </div>
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
};

export default App;